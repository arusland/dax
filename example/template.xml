<project name="System db">
	<props>
		<prop name="version.query" value="select 'x.x'"/>
	</props>

	<input>
		<field name="OBJECT_NAME" title="Object name" allowBlank="false"/>
		<field name="VIEW_NAME" title="View name"/>
		<field name="TABLE_NAME" title="Table name" allowBlank="false"/>
		<field name="IS_MS_SHIPPED" title="is_ms_shipped" type="bool" default="1"/>
	</input>

	<scope version="x.x">
		<block title="Sys objects">
			<query>
				select * from sys.objects where name like '%{{OBJECT_NAME}}%'
			</query>
		</block>

		<block title="All views" showOnEmpty="false">			
			<query>
				select * from sys.all_views
				where name like '%{{VIEW_NAME}}%' [[and is_ms_shipped = {{IS_MS_SHIPPED}}]]
			</query>
		</block>	

		<block title="All columns (conditional)">
			<bindings>
				<bind column="TABLE_NAME" field="TABLE_NAME"/>
			</bindings>
			<query>
				select * from information_schema.columns
				[[where table_name like '%{{TABLE_NAME}}%']]		
			</query>
		</block>

		<block title="All tables (withour vars)">			
			<query>
				select * from information_schema.tables				
			</query>
		</block>
	</scope>
</project>
    